<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>  Speed Dating and Revealed Preferences | Forest for the Tree
</title>
  <link rel="canonical" href="/speed-dating-and-revealed-preferences.html">


  <link rel="stylesheet" href="/theme/css/bootstrap.min.css">
  <link rel="stylesheet" href="/theme/css/font-awesome.min.css">
  <link rel="stylesheet" href="/theme/css/pygments/default.min.css">
  <link rel="stylesheet" href="/theme/css/theme.css">

  
  <meta name="description" content="A discussion of revealed preferences and prediction using logistic regression.">


</head>

<body>
  <header class="header">
    <div class="container">
<div class="row">
    <div class="col-sm-4">
      <a href="/">
        <img class="img-fluid rounded" src=/images/profile.png width=130 height=130 alt="Forest for the Tree">
      </a>
    </div>
  <div class="col-sm-8">
    <h1 class="title"><a href="/">Forest for the Tree</a></h1>
      <p class="text-muted">An economics and statistics blog.</p>
      <ul class="list-inline">
            <li class="list-inline-item"><a href="/pages/about.html">About</a></li>
            <li class="list-inline-item"><a href="/pages/contact.html">Contact</a></li>
            <li class=" list-inline-item text-muted">|</li>
          <li class="list-inline-item"><a class="fa fa-twitter" href="https://twitter.com/rcushen" target="_blank"></a></li>
          <li class="list-inline-item"><a class="fa fa-linkedin-square" href="https://linkedin.com/in/ryancushen" target="_blank"></a></li>
          <li class="list-inline-item"><a class="fa fa-github" href="https://github.com/rcushen" target="_blank"></a></li>
      </ul>
  </div>
</div>    </div>
  </header>

  <div class="main">
    <div class="container">
      <h1>  Speed Dating and Revealed Preferences
</h1>
      <hr>
  <article class="article">
    <header>
      <ul class="list-inline">
        <li class="list-inline-item text-muted" title="2018-06-30T12:00:00+10:00">
          <i class="fa fa-clock-o"></i>
          Sat 30 June 2018
        </li>
        <li class="list-inline-item">
          <i class="fa fa-folder-open-o"></i>
          <a href="/category/posts.html">posts</a>
        </li>
          <li class="list-inline-item">
            <i class="fa fa-user-o"></i>
              <a href="/author/ryan-cushen.html">Ryan Cushen</a>          </li>
          <li class="list-inline-item">
            <i class="fa fa-files-o"></i>
              <a href="/tag/statistics.html">#statistics</a>,               <a href="/tag/r.html">#R</a>,               <a href="/tag/data-analysis.html">#data analysis</a>,               <a href="/tag/classification.html">#classification</a>          </li>
      </ul>
    </header>
    <div class="content">
      <h1>Speed Dating</h1>
<p>A topic near and dear to all single hearts (and some coupled) the world over: what does the opposite sex desire? In this post, we make an attempt to disentangle the lies, deceit and downright treachery, while also learning about the concept of revealed preferences and the logistic regression model.</p>
<h2>Introduction</h2>
<p>In recent years, classification has become perhaps the most glamourous and exciting application of statistical learning techniques. Known also as <strong>supervised learning</strong>, it is these methods that underpin some of the most well-known machine learning technologies, such as computer vision and voice recognition. However, one often underreported drawback is the requirement of labelled training data, which is not so easy to come by. Fortunately the dataset we use in this post contains exactly the kind of closed-world experimental data that is ideal for developing a classification model -- moreover, it is a binary response case so it's perfect for the logistic regression tool we will be implementing.</p>
<h3>The Dataset</h3>
<p>The data we will be using was gathered by two business school professors from Columbia University (Ray Fisman and Sheena Iyengar) as part of their paper <em>Gender Differences in Mate Selection: Evidence From a Speed Dating Experiment</em>. It details the results of a series of speed-dating encounters between men and women, as well as a questionaire that each participant was asked to fill out regarding their own preferences and characteristics (for a more complete overview of the dataset, see here).</p>
<p>To better understand the individuals who comprise our sample, let's take a quick look at their interests. Unsurprisingly, they're a pretty high-brow bunch! As part of the speed-dating excercise, each individual was asked to rate their interests out of ten across a spectrum of activities: the results are given below, split out by gender.</p>
<p><img alt="interests_gender" src="./images/speed-dating/interests_bygender.png"></p>
<p>Movies, music, reading and dining out all score highly across both genders, with hiking and exercise not far behind. However, in other areas, there are much larger differences between genders. This bodes well for the rest of our investigation, as it suggests there is indeed the beginnings of variance between men and women. </p>
<h3>A Review of Logistic Regression</h3>
<p>The logistic regression model is perhaps the simplest tool in the statisticians toolbox for tackling the problem of classification. In its simplest form, it offers a model for the conditional probability of a binary response variable <span class="math">\(G\)</span>, given some matrix of features <span class="math">\(X\)</span>. This model is derived by making two small adjustments to the standard linear regression model, given as
</p>
<div class="math">$$
\mathbb{E}(G|X=x) = \beta_0 + \beta^\intercal x .
$$</div>
<p>
Firstly, the expected value <span class="math">\(G\)</span> can now be called a probability. Let us denote this as <span class="math">\(\text{Pr}(G =1|X = x ) = \pi\)</span>. The above equation can therefore be rewritten as
</p>
<div class="math">$$
\pi (x) = \beta_0 + \beta^\intercal x .
$$</div>
<p>
We thus have a simple linear model for the probability of our response variable <span class="math">\(G\)</span>. However, is this appropriate? If we were to simply estimate this model as usual, the predicted probabilities would not be bounded. In other words, we may end up with a predicted probability greater than one, or less than zero! To combat this, we apply the logistic transformation,
</p>
<div class="math">$$
g(x) = \frac{1}{1-\mathbb{e}^{-x}} ,
$$</div>
<p>which bounds all predicted values between zero and one. The final logistic regression model is hence written as
</p>
<div class="math">$$
\pi(x) = \frac{1}{1-\mathbb{e}^{-(\beta_0 + \beta^\intercal x)}} .
$$</div>
<p>
(as an interesting aside, the logistic curve is a common model of population growth, derived as the solution to a differential equation. looking at a plot of the curve, one can see how it would provide an appropriate model for a growing population which ultimately reaches carrying capacity).</p>
<p>Since we no longer have a linear model, OLS cannot be used to estimate the parameter set <span class="math">\(\theta = \{ \beta_0, \beta\}\)</span>. Instead, maximum likelihood estimation is employed. The log-likelihood function for <span class="math">\(N\)</span> observations is given by
</p>
<div class="math">$$
\mathcal{l} (\theta) = \sum_{i=1}^N \log (\pi_i (x_i ; \theta)) ,
$$</div>
<p>
where recall that <span class="math">\(\pi_i(x_i ; \theta ) = \text{Pr}(G = 1| X = x_i ; \theta)\)</span>. This is then solved numerically -- <code>R</code> uses iteratively reweighted least squares.</p>
<h2>Analysis</h2>
<h3>Stated Preferences</h3>
<p>Perhaps the most obvious place to start is by looking at what people <em>say</em> they want. Across all individuals in the sample, we see that attractiveness and intelligence are the clear winners. Moreover, attractiveness has a large number of outliers, suggesting that for many individuals, being unattractive is an absolute dealbreaker. Tough crowd! ...., and fun and sincerity are not too far behind. Surprisingly, the latter beat out ambition -- perhaps these high powered business-school folk are romantics after all!</p>
<p><img alt="preferences_overall" src="./images/speed-dating/preferences_overall.png"></p>
<p>Looking at a more granular breakdown by gender, we see nothing too surprising. Many of our common stereotypes are confirmed: men claim to care significantly more than women about attractiveness, whereas  women claim to care more about ambition and intelligence. It is nonetheless heartening to note that both sexes place almost exactly the same value on fun!</p>
<p><img alt="preferences_bygender" src="./images/speed-dating/preferences_bygender.png"></p>
<p>We can also look at what each sex <em>thinks</em> the other desires. And in fact, we are broadly quite good at intuiting -- both men and women come very close to estimating the true preferences articulated above. Both genders do however overestimate the value of attractiveness!</p>
<p><img alt="preferences_opp_sex" src="./images/speed-dating/preferences_opp_sex.png"></p>
<p>Since the data had such fields available, it seemed like another interesting question might have been how these stated preferences vary across more general demographic categories. However, breaking down by age, neighbourhood income and profession yielded nothing of particular interest.</p>
<h3>Revealed Preferences</h3>
<p>So this is what people say they want in a partner. However, do they actually follow through and match with people who fit this bill? Or did they just respond with what they thought sounded good? Of course, this need not even be a conscious deception – more likely, people don't actually <em>know</em> what they want. As is well established, self-reported survey results are notoriously noisy, and often straight-up wrong. Economists have formulated the idea of <strong>revealed preferences</strong> to tackle this problem, which basically says that we shouldn't trust what people <em>say</em>, but rather what they <em>do</em>. In the dating context, this means looking at the types of people that an individual actually wants to match with, rather than the types of people who match their stated preferences. And fortunate for us, this is exactly the data we have available.</p>
<h4>Some Harsh Truths</h4>
<p>To understand this idea of revealed preferences, we're going to need a 'true figure' for each attribute. This can be calculated as the average rating that each individual receives across their ten potential partners – which as an aside, also gives us a glimpse into the differing ways men and women evaluate each other. The story here is that men have much more variability: across every dimension, the distribution of actual scores for men is broader.</p>
<p><img alt="scores_distributions_actual" src="./images/speed-dating/scores_distributions_actual.png"></p>
<p>And how do these 'actual' values compare with self-assessments? In other words, how accurately do people evaluate their own value? As we will see, everyone is a bit of an egotist after all – we all dramatically overestimate ourselves. How depressing!</p>
<p><img alt="scores_comparisons" src="./images/speed-dating/scores_comparisons.png"></p>
<h4>Predicting Matches</h4>
<p>Having defined our variables, we can now form a model to test this idea of revealed preferences a little more rigourously. A proposition: if people know what they want in a partner, then---holding all else constant---we would expect them to match with people who fit their preferences profile. As such, pairings with a small distance between the preference set and true attributes would be more likely to end in a match, while those with a large distance would not. This implies that the distinction between stated and revealed preferences can be tested through the significance of this distance variable!  </p>
<p>Let's start with a simple model, for reference. We take the following independent variables:
<em> Gender
</em> Pairing order in the evening
<em> Initial correlation of shared interests
</em> Same race?
<em> Age difference
</em> Actual attributes of the partner</p>
<p>and we try to predict whether the individual wanted to match. Note that this only draws on the actual qualities of the partner, and not the stated preferences of the individual. Nonetheless, we would expect a reasonably significant model -- match probability would likely be increasing actual attributes. Using a logistic regression, we obtain 65% accuracy on a held-out test set. This is nothing especially impressive, but perhaps more interesting is the estimated coefficients...</p>
<p>Now let us include stated preferences. Specifically, we incorporate a variable describing the difference between stated preferences and actual values...</p>
<h2>Conclusions</h2>
<p>So what is the conclusion from this dismal dating dilemma? Many would argue that economists should focus on revealed preferences over stated preferences -- in other words, they should analyse what people do, and avoid the temptation to theorise about <em>why</em> they do it.</p>
<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width < 768) ? "left" : align;
        indent = (screen.width < 768) ? "0em" : indent;
        linebreak = (screen.width < 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
</script>
    </div>
  </article>
    </div>
  </div>

  <footer class="footer">
    <div class="container">
<div class="row">
  <ul class="col-sm-6 list-inline">
      <li class="list-inline-item"><a href="/authors.html">Authors</a></li>
    <li class="list-inline-item"><a href="/archives.html">Archives</a></li>
    <li class="list-inline-item"><a href="/categories.html">Categories</a></li>
      <li class="list-inline-item"><a href="/tags.html">Tags</a></li>
  </ul>
  <p class="col-sm-6 text-sm-right text-muted">
    Generated by <a href="https://github.com/getpelican/pelican" target="_blank">Pelican</a>
    / <a href="https://github.com/nairobilug/pelican-alchemy" target="_blank">&#x2728;</a>
  </p>
</div>    </div>
  </footer>
</body>

</html>